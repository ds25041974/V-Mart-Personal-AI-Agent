
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Backend Manager - V-Mart AI Agent</title>
    
<style>
@media print {
    @page {
        size: A4;
        margin: 2cm;
    }
    
    h1, h2, h3 {
        page-break-after: avoid;
    }
    
    pre, table {
        page-break-inside: avoid;
    }
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
    line-height: 1.6;
    color: #333;
    max-width: 900px;
    margin: 0 auto;
    padding: 20px;
}

h1 {
    color: #2c3e50;
    border-bottom: 3px solid #3498db;
    padding-bottom: 10px;
    margin-top: 30px;
}

h2 {
    color: #34495e;
    border-bottom: 2px solid #95a5a6;
    padding-bottom: 5px;
    margin-top: 25px;
}

h3 {
    color: #555;
    margin-top: 20px;
}

code {
    background-color: #f4f4f4;
    padding: 2px 6px;
    border-radius: 3px;
    font-family: 'Monaco', 'Courier New', monospace;
    font-size: 0.9em;
}

pre {
    background-color: #f8f8f8;
    border: 1px solid #ddd;
    border-radius: 5px;
    padding: 15px;
    overflow-x: auto;
}

pre code {
    background-color: transparent;
    padding: 0;
}

table {
    border-collapse: collapse;
    width: 100%;
    margin: 20px 0;
}

table th {
    background-color: #3498db;
    color: white;
    padding: 12px;
    text-align: left;
    font-weight: bold;
}

table td {
    border: 1px solid #ddd;
    padding: 10px;
}

table tr:nth-child(even) {
    background-color: #f9f9f9;
}

blockquote {
    border-left: 4px solid #3498db;
    padding-left: 20px;
    margin: 20px 0;
    color: #555;
    font-style: italic;
}

ul, ol {
    margin: 15px 0;
    padding-left: 30px;
}

li {
    margin: 8px 0;
}

a {
    color: #3498db;
    text-decoration: none;
}

.header {
    text-align: center;
    margin-bottom: 40px;
    padding-bottom: 20px;
    border-bottom: 3px solid #3498db;
}

.header h1 {
    color: #2c3e50;
    margin: 10px 0;
    border: none;
}

.header p {
    color: #7f8c8d;
    font-size: 0.9em;
}

.print-button {
    position: fixed;
    top: 20px;
    right: 20px;
    padding: 10px 20px;
    background: #3498db;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 14px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}

.print-button:hover {
    background: #2980b9;
}

@media print {
    .print-button {
        display: none;
    }
}
</style>

    <script>
        function printToPDF() {
            window.print();
        }
    </script>
</head>
<body>
    <button class="print-button" onclick="printToPDF()">üñ®Ô∏è Print to PDF</button>
    
    <div class="header">
        <h1>ü§ñ V-Mart Personal AI Agent</h1>
        <h1>Backend Manager</h1>
        <p>Generated: November 09, 2025</p>
        <p><a href="https://github.com/ds25041974/V-Mart-Personal-AI-Agent">GitHub Repository</a></p>
    </div>
    
    <h1 id="backend-manager-documentation">Backend Manager Documentation</h1>

<h2 id="overview">Overview</h2>

<p>The V-Mart AI Agent Backend Manager is a comprehensive enterprise-grade system for connecting to multiple data sources, executing queries, and providing AI-powered insights and recommendations.</p>

<h2 id="architecture">Architecture</h2>

<h3 id="core-components">Core Components</h3>

<ol>
<li><p><strong>Database Connection Manager</strong> (<code>db_manager.py</code>)</p>

<ul>
<li>Abstract base class for all database connections</li>
<li>Connection pooling with automatic management</li>
<li>Unified interface for different database types</li>
</ul></li>
<li><p><strong>Database Connectors</strong></p>

<ul>
<li><strong>ClickHouse</strong> (<code>clickhouse_connector.py</code>) - High-performance analytics database</li>
<li><strong>PostgreSQL</strong> (<code>postgres_connector.py</code>) - Advanced relational database</li>
<li><strong>Oracle</strong> (<code>oracle_connector.py</code>) - Enterprise database system</li>
<li><strong>SQL Server</strong> (<code>sqlserver_connector.py</code>) - Microsoft SQL Server</li>
</ul></li>
<li><p><strong>Data Source Connectors</strong></p>

<ul>
<li><strong>Tableau</strong> (<code>tableau_connector.py</code>) - Business intelligence and analytics</li>
<li><strong>Google Drive</strong> (<code>gdrive_connector.py</code>) - Cloud file storage</li>
<li><strong>File System</strong> (<code>filesystem_connector.py</code>) - Local and network drives</li>
</ul></li>
<li><p><strong>AI Insights Engine</strong> (<code>ai_insights.py</code>)</p>

<ul>
<li>Powered by Google Gemini AI</li>
<li>Data analysis and pattern recognition</li>
<li>Actionable recommendations</li>
<li>Question answering</li>
</ul></li>
<li><p><strong>RBAC System</strong> (<code>rbac.py</code>)</p>

<ul>
<li>Role-based access control</li>
<li>User and permission management</li>
<li>4 default roles: admin, analyst, viewer, developer</li>
</ul></li>
<li><p><strong>Configuration Manager</strong> (<code>config_manager.py</code>)</p>

<ul>
<li>Secure credential storage with encryption</li>
<li>Configuration management</li>
<li>API key management</li>
</ul></li>
</ol>

<h2 id="installation">Installation</h2>

<h3 id="prerequisites">Prerequisites</h3>

<ul>
<li>Python 3.8+</li>
<li>pip package manager</li>
<li>Database drivers (optional, based on your needs)</li>
</ul>

<h3 id="install-dependencies">Install Dependencies</h3>

<div class="codehilite">
<pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements.txt
</code></pre>
</div>

<h3 id="database-specific-drivers">Database-Specific Drivers</h3>

<p>For <strong>SQL Server</strong> on macOS/Linux, install ODBC Driver:</p>

<div class="codehilite">
<pre><span></span><code><span class="c1"># macOS</span>
brew<span class="w"> </span>install<span class="w"> </span>unixodbc
brew<span class="w"> </span>tap<span class="w"> </span>microsoft/mssql-release<span class="w"> </span>https://github.com/Microsoft/homebrew-mssql-release
brew<span class="w"> </span>install<span class="w"> </span>msodbcsql18<span class="w"> </span>mssql-tools18

<span class="c1"># Ubuntu/Debian</span>
sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>unixodbc<span class="w"> </span>unixodbc-dev
curl<span class="w"> </span>https://packages.microsoft.com/keys/microsoft.asc<span class="w"> </span><span class="p">|</span><span class="w"> </span>sudo<span class="w"> </span>apt-key<span class="w"> </span>add<span class="w"> </span>-
sudo<span class="w"> </span>apt-get<span class="w"> </span>update
sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>msodbcsql18<span class="w"> </span>mssql-tools18
</code></pre>
</div>

<h2 id="configuration">Configuration</h2>

<h3 id="environment-variables">Environment Variables</h3>

<p>Create a <code>.env</code> file:</p>

<pre><code># Gemini AI
GEMINI_API_KEY=your_gemini_api_key

# Google OAuth (optional)
GOOGLE_CLIENT_ID=your_client_id
GOOGLE_CLIENT_SECRET=your_client_secret

# Flask Secret
SECRET_KEY=your_secret_key
</code></pre>

<h3 id="database-connections">Database Connections</h3>

<p>Database credentials are stored securely in <code>~/.vmart/credentials.enc</code>.</p>

<h2 id="api-reference">API Reference</h2>

<h3 id="database-management">Database Management</h3>

<h4 id="list-connections">List Connections</h4>

<div class="codehilite">
<pre><span></span><code><span class="err">GET /backend/connections</span>
</code></pre>
</div>

<p>Response:</p>

<div class="codehilite">
<pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;connections&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;db1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;db2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;db3&quot;</span><span class="p">]</span>
<span class="p">}</span>
</code></pre>
</div>

<h4 id="create-connection">Create Connection</h4>

<div class="codehilite">
<pre><span></span><code><span class="err">POST /backend/connections</span>
<span class="err">Content-Type: application/json</span>

<span class="err">{</span>
<span class="err">  &quot;name&quot;: &quot;my_postgres&quot;,</span>
<span class="err">  &quot;type&quot;: &quot;postgresql&quot;,</span>
<span class="err">  &quot;params&quot;: {</span>
<span class="err">    &quot;host&quot;: &quot;localhost&quot;,</span>
<span class="err">    &quot;port&quot;: 5432,</span>
<span class="err">    &quot;database&quot;: &quot;mydb&quot;,</span>
<span class="err">    &quot;user&quot;: &quot;admin&quot;,</span>
<span class="err">    &quot;password&quot;: &quot;secret&quot;</span>
<span class="err">  }</span>
<span class="err">}</span>
</code></pre>
</div>

<h4 id="execute-query">Execute Query</h4>

<div class="codehilite">
<pre><span></span><code><span class="err">POST /backend/query</span>
<span class="err">Content-Type: application/json</span>

<span class="err">{</span>
<span class="err">  &quot;connection&quot;: &quot;my_postgres&quot;,</span>
<span class="err">  &quot;query&quot;: &quot;SELECT * FROM users LIMIT 10&quot;</span>
<span class="err">}</span>
</code></pre>
</div>

<p>Response:</p>

<div class="codehilite">
<pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;result&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;John&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;email&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;john@example.com&quot;</span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Jane&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;email&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;jane@example.com&quot;</span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</code></pre>
</div>

<h4 id="get-schema">Get Schema</h4>

<div class="codehilite">
<pre><span></span><code><span class="err">GET /backend/schema/my_postgres</span>
</code></pre>
</div>

<p>Response:</p>

<div class="codehilite">
<pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;schema&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;tables&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;users&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;columns&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">          </span><span class="p">{</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;id&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;integer&quot;</span><span class="p">},</span>
<span class="w">          </span><span class="p">{</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;name&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;varchar&quot;</span><span class="p">},</span>
<span class="w">          </span><span class="p">{</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;email&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;varchar&quot;</span><span class="p">}</span>
<span class="w">        </span><span class="p">]</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<h3 id="ai-analytics">AI Analytics</h3>

<h4 id="analyze-data">Analyze Data</h4>

<div class="codehilite">
<pre><span></span><code><span class="err">POST /backend/ai/analyze</span>
<span class="err">Content-Type: application/json</span>

<span class="err">{</span>
<span class="err">  &quot;data&quot;: [</span>
<span class="err">    {&quot;date&quot;: &quot;2025-01-01&quot;, &quot;sales&quot;: 1000},</span>
<span class="err">    {&quot;date&quot;: &quot;2025-01-02&quot;, &quot;sales&quot;: 1200}</span>
<span class="err">  ],</span>
<span class="err">  &quot;context&quot;: {</span>
<span class="err">    &quot;source&quot;: &quot;sales_database&quot;,</span>
<span class="err">    &quot;table&quot;: &quot;daily_sales&quot;</span>
<span class="err">  }</span>
<span class="err">}</span>
</code></pre>
</div>

<p>Response:</p>

<div class="codehilite">
<pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;summary&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Sales data showing upward trend&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;insights&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;trend&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;20% increase in sales&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;importance&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;high&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">&quot;recommendations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;action&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Increase inventory&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;rationale&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Sales trending up&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;priority&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;high&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</code></pre>
</div>

<h4 id="get-recommendations">Get Recommendations</h4>

<div class="codehilite">
<pre><span></span><code><span class="err">POST /backend/ai/recommend</span>
<span class="err">Content-Type: application/json</span>

<span class="err">{</span>
<span class="err">  &quot;data&quot;: {&quot;revenue&quot;: 100000, &quot;costs&quot;: 80000},</span>
<span class="err">  &quot;goal&quot;: &quot;Improve profit margins&quot;</span>
<span class="err">}</span>
</code></pre>
</div>

<h3 id="user-management">User Management</h3>

<h4 id="list-users">List Users</h4>

<div class="codehilite">
<pre><span></span><code><span class="err">GET /backend/users</span>
</code></pre>
</div>

<h4 id="create-user">Create User</h4>

<div class="codehilite">
<pre><span></span><code><span class="err">POST /backend/users</span>
<span class="err">Content-Type: application/json</span>

<span class="err">{</span>
<span class="err">  &quot;username&quot;: &quot;analyst1&quot;,</span>
<span class="err">  &quot;email&quot;: &quot;analyst1@company.com&quot;,</span>
<span class="err">  &quot;roles&quot;: [&quot;analyst&quot;]</span>
<span class="err">}</span>
</code></pre>
</div>

<h4 id="update-user-roles">Update User Roles</h4>

<div class="codehilite">
<pre><span></span><code><span class="err">PUT /backend/users/analyst1/roles</span>
<span class="err">Content-Type: application/json</span>

<span class="err">{</span>
<span class="err">  &quot;roles&quot;: [&quot;analyst&quot;, &quot;developer&quot;]</span>
<span class="err">}</span>
</code></pre>
</div>

<h4 id="delete-user">Delete User</h4>

<div class="codehilite">
<pre><span></span><code><span class="err">DELETE /backend/users/analyst1</span>
</code></pre>
</div>

<h3 id="role-management">Role Management</h3>

<h4 id="list-roles">List Roles</h4>

<div class="codehilite">
<pre><span></span><code><span class="err">GET /backend/roles</span>
</code></pre>
</div>

<p>Response:</p>

<div class="codehilite">
<pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;roles&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;admin&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;System administrator with full access&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;permissions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;db:admin&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;user:write&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;system:admin&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;analyst&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Data analyst with read access and AI capabilities&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;permissions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;db:query&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ai:analyze&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ai:recommend&quot;</span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">]</span>
<span class="p">}</span>
</code></pre>
</div>

<h4 id="create-custom-role">Create Custom Role</h4>

<div class="codehilite">
<pre><span></span><code><span class="err">POST /backend/roles</span>
<span class="err">Content-Type: application/json</span>

<span class="err">{</span>
<span class="err">  &quot;name&quot;: &quot;custom_role&quot;,</span>
<span class="err">  &quot;description&quot;: &quot;Custom role for specific needs&quot;,</span>
<span class="err">  &quot;permissions&quot;: [&quot;db:query&quot;, &quot;file:read&quot;]</span>
<span class="err">}</span>
</code></pre>
</div>

<h3 id="configuration-2">Configuration</h3>

<h4 id="get-configuration">Get Configuration</h4>

<div class="codehilite">
<pre><span></span><code><span class="err">GET /backend/config</span>
</code></pre>
</div>

<h4 id="update-configuration">Update Configuration</h4>

<div class="codehilite">
<pre><span></span><code><span class="err">PUT /backend/config</span>
<span class="err">Content-Type: application/json</span>

<span class="err">{</span>
<span class="err">  &quot;key&quot;: &quot;database.max_connections&quot;,</span>
<span class="err">  &quot;value&quot;: 30</span>
<span class="err">}</span>
</code></pre>
</div>

<h2 id="python-sdk-usage">Python SDK Usage</h2>

<h3 id="database-connections-2">Database Connections</h3>

<div class="codehilite">
<pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">backend.db_manager</span><span class="w"> </span><span class="kn">import</span> <span class="n">db_manager</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">backend.clickhouse_connector</span><span class="w"> </span><span class="kn">import</span> <span class="n">ClickHouseConnection</span>

<span class="c1"># Register ClickHouse connector</span>
<span class="n">db_manager</span><span class="o">.</span><span class="n">register_database_type</span><span class="p">(</span><span class="s2">&quot;clickhouse&quot;</span><span class="p">,</span> <span class="n">ClickHouseConnection</span><span class="p">)</span>

<span class="c1"># Create connection</span>
<span class="n">connection_params</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;localhost&quot;</span><span class="p">,</span>
    <span class="s2">&quot;port&quot;</span><span class="p">:</span> <span class="mi">9000</span><span class="p">,</span>
    <span class="s2">&quot;user&quot;</span><span class="p">:</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span>
    <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;database&quot;</span><span class="p">:</span> <span class="s2">&quot;default&quot;</span>
<span class="p">}</span>

<span class="n">db_manager</span><span class="o">.</span><span class="n">create_connection</span><span class="p">(</span><span class="s2">&quot;my_clickhouse&quot;</span><span class="p">,</span> <span class="s2">&quot;clickhouse&quot;</span><span class="p">,</span> <span class="n">connection_params</span><span class="p">)</span>

<span class="c1"># Execute query</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">db_manager</span><span class="o">.</span><span class="n">execute_query</span><span class="p">(</span><span class="s2">&quot;my_clickhouse&quot;</span><span class="p">,</span> <span class="s2">&quot;SELECT * FROM events LIMIT 5&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>

<span class="c1"># Get schema</span>
<span class="n">schema</span> <span class="o">=</span> <span class="n">db_manager</span><span class="o">.</span><span class="n">get_schema</span><span class="p">(</span><span class="s2">&quot;my_clickhouse&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">schema</span><span class="p">)</span>
</code></pre>
</div>

<h3 id="ai-insights">AI Insights</h3>

<div class="codehilite">
<pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">backend.ai_insights</span><span class="w"> </span><span class="kn">import</span> <span class="n">AIInsightsEngine</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="c1"># Initialize AI engine</span>
<span class="n">ai_engine</span> <span class="o">=</span> <span class="n">AIInsightsEngine</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;GEMINI_API_KEY&quot;</span><span class="p">))</span>

<span class="c1"># Analyze data</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">{</span><span class="s2">&quot;month&quot;</span><span class="p">:</span> <span class="s2">&quot;Jan&quot;</span><span class="p">,</span> <span class="s2">&quot;revenue&quot;</span><span class="p">:</span> <span class="mi">50000</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;month&quot;</span><span class="p">:</span> <span class="s2">&quot;Feb&quot;</span><span class="p">,</span> <span class="s2">&quot;revenue&quot;</span><span class="p">:</span> <span class="mi">55000</span><span class="p">},</span>
    <span class="p">{</span><span class="s2">&quot;month&quot;</span><span class="p">:</span> <span class="s2">&quot;Mar&quot;</span><span class="p">,</span> <span class="s2">&quot;revenue&quot;</span><span class="p">:</span> <span class="mi">60000</span><span class="p">}</span>
<span class="p">]</span>

<span class="n">context</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;finance_db&quot;</span><span class="p">,</span>
    <span class="s2">&quot;table&quot;</span><span class="p">:</span> <span class="s2">&quot;monthly_revenue&quot;</span>
<span class="p">}</span>

<span class="n">insights</span> <span class="o">=</span> <span class="n">ai_engine</span><span class="o">.</span><span class="n">analyze_data</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">insights</span><span class="p">)</span>

<span class="c1"># Get recommendations</span>
<span class="n">recommendations</span> <span class="o">=</span> <span class="n">ai_engine</span><span class="o">.</span><span class="n">generate_recommendations</span><span class="p">(</span>
    <span class="n">data</span><span class="p">,</span>
    <span class="n">goal</span><span class="o">=</span><span class="s2">&quot;Increase revenue by 20%&quot;</span><span class="p">,</span>
    <span class="n">context</span><span class="o">=</span><span class="n">context</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">recommendations</span><span class="p">)</span>

<span class="c1"># Answer questions</span>
<span class="n">answer</span> <span class="o">=</span> <span class="n">ai_engine</span><span class="o">.</span><span class="n">answer_question</span><span class="p">(</span>
    <span class="s2">&quot;What is the revenue trend?&quot;</span><span class="p">,</span>
    <span class="n">data</span><span class="p">,</span>
    <span class="n">context</span>
<span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">answer</span><span class="p">)</span>
</code></pre>
</div>

<h3 id="rbac">RBAC</h3>

<div class="codehilite">
<pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">backend.rbac</span><span class="w"> </span><span class="kn">import</span> <span class="n">rbac_manager</span><span class="p">,</span> <span class="n">Permission</span>

<span class="c1"># Create user</span>
<span class="n">user</span> <span class="o">=</span> <span class="n">rbac_manager</span><span class="o">.</span><span class="n">create_user</span><span class="p">(</span>
    <span class="s2">&quot;analyst1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;analyst1@company.com&quot;</span><span class="p">,</span>
    <span class="p">[</span><span class="s2">&quot;analyst&quot;</span><span class="p">]</span>
<span class="p">)</span>

<span class="c1"># Check permissions</span>
<span class="n">can_query</span> <span class="o">=</span> <span class="n">rbac_manager</span><span class="o">.</span><span class="n">check_permission</span><span class="p">(</span><span class="s2">&quot;analyst1&quot;</span><span class="p">,</span> <span class="n">Permission</span><span class="o">.</span><span class="n">DB_QUERY</span><span class="p">)</span>
<span class="n">can_write</span> <span class="o">=</span> <span class="n">rbac_manager</span><span class="o">.</span><span class="n">check_permission</span><span class="p">(</span><span class="s2">&quot;analyst1&quot;</span><span class="p">,</span> <span class="n">Permission</span><span class="o">.</span><span class="n">DB_WRITE</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Can query: </span><span class="si">{</span><span class="n">can_query</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># True</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Can write: </span><span class="si">{</span><span class="n">can_write</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>  <span class="c1"># False</span>

<span class="c1"># Create custom role</span>
<span class="n">custom_role</span> <span class="o">=</span> <span class="n">rbac_manager</span><span class="o">.</span><span class="n">create_role</span><span class="p">(</span>
    <span class="s2">&quot;report_viewer&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Can view reports only&quot;</span><span class="p">,</span>
    <span class="p">[</span><span class="s2">&quot;db:query&quot;</span><span class="p">,</span> <span class="s2">&quot;datasource:read&quot;</span><span class="p">]</span>
<span class="p">)</span>

<span class="c1"># Assign role to user</span>
<span class="n">rbac_manager</span><span class="o">.</span><span class="n">update_user_roles</span><span class="p">(</span><span class="s2">&quot;analyst1&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;analyst&quot;</span><span class="p">,</span> <span class="s2">&quot;report_viewer&quot;</span><span class="p">])</span>
</code></pre>
</div>

<h3 id="configuration-management">Configuration Management</h3>

<div class="codehilite">
<pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">backend.config_manager</span><span class="w"> </span><span class="kn">import</span> <span class="n">config_manager</span>

<span class="c1"># Store database credentials</span>
<span class="n">config_manager</span><span class="o">.</span><span class="n">add_database_connection</span><span class="p">(</span>
    <span class="s2">&quot;prod_db&quot;</span><span class="p">,</span>
    <span class="s2">&quot;postgresql&quot;</span><span class="p">,</span>
    <span class="p">{</span>
        <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;prod.example.com&quot;</span><span class="p">,</span>
        <span class="s2">&quot;port&quot;</span><span class="p">:</span> <span class="mi">5432</span><span class="p">,</span>
        <span class="s2">&quot;database&quot;</span><span class="p">:</span> <span class="s2">&quot;production&quot;</span><span class="p">,</span>
        <span class="s2">&quot;user&quot;</span><span class="p">:</span> <span class="s2">&quot;app_user&quot;</span><span class="p">,</span>
        <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="s2">&quot;secure_password&quot;</span>
    <span class="p">}</span>
<span class="p">)</span>

<span class="c1"># Store API key</span>
<span class="n">config_manager</span><span class="o">.</span><span class="n">add_api_key</span><span class="p">(</span>
    <span class="s2">&quot;tableau&quot;</span><span class="p">,</span>
    <span class="s2">&quot;your_tableau_token&quot;</span><span class="p">,</span>
    <span class="p">{</span><span class="s2">&quot;server_url&quot;</span><span class="p">:</span> <span class="s2">&quot;https://tableau.company.com&quot;</span><span class="p">}</span>
<span class="p">)</span>

<span class="c1"># Get configuration</span>
<span class="n">max_conn</span> <span class="o">=</span> <span class="n">config_manager</span><span class="o">.</span><span class="n">get_config</span><span class="p">(</span><span class="s2">&quot;database.max_connections&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Max connections: </span><span class="si">{</span><span class="n">max_conn</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="c1"># Update configuration</span>
<span class="n">config_manager</span><span class="o">.</span><span class="n">set_config</span><span class="p">(</span><span class="s2">&quot;database.query_timeout&quot;</span><span class="p">,</span> <span class="mi">600</span><span class="p">)</span>

<span class="c1"># Export configuration</span>
<span class="n">config_manager</span><span class="o">.</span><span class="n">export_config</span><span class="p">(</span><span class="s2">&quot;backup_config.json&quot;</span><span class="p">,</span> <span class="n">include_credentials</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre>
</div>

<h2 id="permissions-reference">Permissions Reference</h2>

<h3 id="database-permissions">Database Permissions</h3>

<ul>
<li><code>db:connect</code> - Connect to databases</li>
<li><code>db:query</code> - Execute SELECT queries</li>
<li><code>db:write</code> - Execute INSERT/UPDATE/DELETE</li>
<li><code>db:admin</code> - Full database administration</li>
</ul>

<h3 id="data-source-permissions">Data Source Permissions</h3>

<ul>
<li><code>datasource:read</code> - Read from data sources (Tableau, Drive)</li>
<li><code>datasource:write</code> - Write to data sources</li>
<li><code>datasource:admin</code> - Manage data sources</li>
</ul>

<h3 id="file-system-permissions">File System Permissions</h3>

<ul>
<li><code>file:read</code> - Read files</li>
<li><code>file:write</code> - Write files</li>
<li><code>file:delete</code> - Delete files</li>
</ul>

<h3 id="ai-permissions">AI Permissions</h3>

<ul>
<li><code>ai:query</code> - Basic AI queries</li>
<li><code>ai:analyze</code> - Data analysis</li>
<li><code>ai:recommend</code> - Get recommendations</li>
</ul>

<h3 id="user-management-permissions">User Management Permissions</h3>

<ul>
<li><code>user:read</code> - View users</li>
<li><code>user:write</code> - Create/update users</li>
<li><code>user:delete</code> - Delete users</li>
</ul>

<h3 id="role-management-permissions">Role Management Permissions</h3>

<ul>
<li><code>role:read</code> - View roles</li>
<li><code>role:write</code> - Create/update roles</li>
<li><code>role:delete</code> - Delete roles</li>
</ul>

<h3 id="system-permissions">System Permissions</h3>

<ul>
<li><code>system:config</code> - Manage configuration</li>
<li><code>system:admin</code> - System administration</li>
</ul>

<h2 id="default-roles">Default Roles</h2>

<h3 id="admin">Admin</h3>

<p>Full system access including:
- All database operations
- User and role management
- System configuration
- All AI capabilities</p>

<h3 id="analyst">Analyst</h3>

<p>Data analysis focused:
- Database queries (read-only)
- Data source reading
- AI analysis and recommendations
- File reading</p>

<h3 id="viewer">Viewer</h3>

<p>Read-only access:
- Database queries
- Data source reading
- File reading
- Basic AI queries</p>

<h3 id="developer">Developer</h3>

<p>Development focused:
- Database read/write
- Data source read/write
- File read/write
- AI analysis</p>

<h2 id="security-best-practices">Security Best Practices</h2>

<ol>
<li><p><strong>Credential Storage</strong></p>

<ul>
<li>All credentials encrypted using Fernet (symmetric encryption)</li>
<li>Key stored separately in <code>~/.vmart/.key</code></li>
<li>File permissions set to 600 (owner read/write only)</li>
</ul></li>
<li><p><strong>API Key Management</strong></p>

<ul>
<li>Store API keys in environment variables</li>
<li>Never commit <code>.env</code> files to version control</li>
<li>Use <code>config_manager</code> for secure storage</li>
</ul></li>
<li><p><strong>Database Connections</strong></p>

<ul>
<li>Use read-only accounts for analysts</li>
<li>Implement connection pooling to prevent resource exhaustion</li>
<li>Set query timeouts to prevent long-running queries</li>
</ul></li>
<li><p><strong>Role Assignment</strong></p>

<ul>
<li>Follow principle of least privilege</li>
<li>Create custom roles for specific use cases</li>
<li>Regularly audit user permissions</li>
</ul></li>
</ol>

<h2 id="troubleshooting">Troubleshooting</h2>

<h3 id="database-connection-issues">Database Connection Issues</h3>

<p><strong>ClickHouse:</strong></p>

<div class="codehilite">
<pre><span></span><code><span class="c1"># Test connection</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">backend.clickhouse_connector</span><span class="w"> </span><span class="kn">import</span> <span class="n">ClickHouseConnection</span>

<span class="n">conn</span> <span class="o">=</span> <span class="n">ClickHouseConnection</span><span class="p">(</span><span class="s2">&quot;localhost&quot;</span><span class="p">,</span> <span class="mi">9000</span><span class="p">,</span> <span class="s2">&quot;default&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;default&quot;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">conn</span><span class="o">.</span><span class="n">test_connection</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Connected successfully&quot;</span><span class="p">)</span>
</code></pre>
</div>

<p><strong>PostgreSQL:</strong></p>

<div class="codehilite">
<pre><span></span><code><span class="c1"># Check if psycopg2 is installed</span>
<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span><span class="w"> </span><span class="nn">psycopg2</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;psycopg2 version: </span><span class="si">{</span><span class="n">psycopg2</span><span class="o">.</span><span class="n">__version__</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;psycopg2 not installed. Run: pip install psycopg2-binary&quot;</span><span class="p">)</span>
</code></pre>
</div>

<p><strong>SQL Server:</strong></p>

<div class="codehilite">
<pre><span></span><code><span class="c1"># Check ODBC drivers</span>
odbcinst<span class="w"> </span>-q<span class="w"> </span>-d

<span class="c1"># Should show &quot;ODBC Driver 17 for SQL Server&quot; or similar</span>
</code></pre>
</div>

<h3 id="permission-denied-errors">Permission Denied Errors</h3>

<p>Check user permissions:</p>

<div class="codehilite">
<pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">backend.rbac</span><span class="w"> </span><span class="kn">import</span> <span class="n">rbac_manager</span>

<span class="n">user</span> <span class="o">=</span> <span class="n">rbac_manager</span><span class="o">.</span><span class="n">get_user</span><span class="p">(</span><span class="s2">&quot;username&quot;</span><span class="p">)</span>
<span class="k">if</span> <span class="n">user</span><span class="p">:</span>
    <span class="n">permissions</span> <span class="o">=</span> <span class="n">user</span><span class="o">.</span><span class="n">get_all_permissions</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;User permissions: </span><span class="si">{</span><span class="p">[</span><span class="n">p</span><span class="o">.</span><span class="n">value</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">permissions</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre>
</div>

<h3 id="ai-engine-not-responding">AI Engine Not Responding</h3>

<p>Verify API key:</p>

<div class="codehilite">
<pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">google.generativeai</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">genai</span>

<span class="n">api_key</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;GEMINI_API_KEY&quot;</span><span class="p">)</span>
<span class="k">if</span> <span class="ow">not</span> <span class="n">api_key</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;GEMINI_API_KEY not set!&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">genai</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="n">api_key</span><span class="p">)</span>
    <span class="n">models</span> <span class="o">=</span> <span class="n">genai</span><span class="o">.</span><span class="n">list_models</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Available models: </span><span class="si">{</span><span class="p">[</span><span class="n">m</span><span class="o">.</span><span class="n">name</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">m</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">models</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre>
</div>

<h2 id="examples">Examples</h2>

<h3 id="complete-workflow-example">Complete Workflow Example</h3>

<div class="codehilite">
<pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">backend.db_manager</span><span class="w"> </span><span class="kn">import</span> <span class="n">db_manager</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">backend.postgres_connector</span><span class="w"> </span><span class="kn">import</span> <span class="n">PostgreSQLConnection</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">backend.ai_insights</span><span class="w"> </span><span class="kn">import</span> <span class="n">AIInsightsEngine</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">backend.rbac</span><span class="w"> </span><span class="kn">import</span> <span class="n">rbac_manager</span><span class="p">,</span> <span class="n">Permission</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>

<span class="c1"># 1. Register database connector</span>
<span class="n">db_manager</span><span class="o">.</span><span class="n">register_database_type</span><span class="p">(</span><span class="s2">&quot;postgresql&quot;</span><span class="p">,</span> <span class="n">PostgreSQLConnection</span><span class="p">)</span>

<span class="c1"># 2. Create connection</span>
<span class="n">db_manager</span><span class="o">.</span><span class="n">create_connection</span><span class="p">(</span>
    <span class="s2">&quot;analytics_db&quot;</span><span class="p">,</span>
    <span class="s2">&quot;postgresql&quot;</span><span class="p">,</span>
    <span class="p">{</span>
        <span class="s2">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;localhost&quot;</span><span class="p">,</span>
        <span class="s2">&quot;port&quot;</span><span class="p">:</span> <span class="mi">5432</span><span class="p">,</span>
        <span class="s2">&quot;database&quot;</span><span class="p">:</span> <span class="s2">&quot;analytics&quot;</span><span class="p">,</span>
        <span class="s2">&quot;user&quot;</span><span class="p">:</span> <span class="s2">&quot;analyst&quot;</span><span class="p">,</span>
        <span class="s2">&quot;password&quot;</span><span class="p">:</span> <span class="s2">&quot;password&quot;</span>
    <span class="p">}</span>
<span class="p">)</span>

<span class="c1"># 3. Create analyst user</span>
<span class="n">user</span> <span class="o">=</span> <span class="n">rbac_manager</span><span class="o">.</span><span class="n">create_user</span><span class="p">(</span>
    <span class="s2">&quot;john_analyst&quot;</span><span class="p">,</span>
    <span class="s2">&quot;john@company.com&quot;</span><span class="p">,</span>
    <span class="p">[</span><span class="s2">&quot;analyst&quot;</span><span class="p">]</span>
<span class="p">)</span>

<span class="c1"># 4. Check permissions</span>
<span class="k">if</span> <span class="n">rbac_manager</span><span class="o">.</span><span class="n">check_permission</span><span class="p">(</span><span class="s2">&quot;john_analyst&quot;</span><span class="p">,</span> <span class="n">Permission</span><span class="o">.</span><span class="n">DB_QUERY</span><span class="p">):</span>
    <span class="c1"># 5. Execute query</span>
    <span class="n">results</span> <span class="o">=</span> <span class="n">db_manager</span><span class="o">.</span><span class="n">execute_query</span><span class="p">(</span>
        <span class="s2">&quot;analytics_db&quot;</span><span class="p">,</span>
        <span class="s2">&quot;SELECT product, SUM(sales) as total_sales FROM sales GROUP BY product&quot;</span>
    <span class="p">)</span>

    <span class="c1"># 6. Analyze with AI</span>
    <span class="n">ai_engine</span> <span class="o">=</span> <span class="n">AIInsightsEngine</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&quot;GEMINI_API_KEY&quot;</span><span class="p">))</span>
    <span class="n">insights</span> <span class="o">=</span> <span class="n">ai_engine</span><span class="o">.</span><span class="n">analyze_data</span><span class="p">(</span>
        <span class="n">results</span><span class="p">,</span>
        <span class="n">context</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;analytics_db&quot;</span><span class="p">,</span> <span class="s2">&quot;query&quot;</span><span class="p">:</span> <span class="s2">&quot;product sales&quot;</span><span class="p">}</span>
    <span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Sales Analysis:&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Summary: </span><span class="si">{</span><span class="n">insights</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;summary&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>

    <span class="k">for</span> <span class="n">insight</span> <span class="ow">in</span> <span class="n">insights</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;insights&#39;</span><span class="p">,</span> <span class="p">[]):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;- </span><span class="si">{</span><span class="n">insight</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> (importance: </span><span class="si">{</span><span class="n">insight</span><span class="p">[</span><span class="s1">&#39;importance&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>

    <span class="c1"># 7. Get recommendations</span>
    <span class="n">recommendations</span> <span class="o">=</span> <span class="n">ai_engine</span><span class="o">.</span><span class="n">generate_recommendations</span><span class="p">(</span>
        <span class="n">results</span><span class="p">,</span>
        <span class="n">goal</span><span class="o">=</span><span class="s2">&quot;Optimize product mix&quot;</span><span class="p">,</span>
        <span class="n">context</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;source&quot;</span><span class="p">:</span> <span class="s2">&quot;sales_data&quot;</span><span class="p">}</span>
    <span class="p">)</span>

    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">Recommendations:&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">rec</span> <span class="ow">in</span> <span class="n">recommendations</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;- </span><span class="si">{</span><span class="n">rec</span><span class="p">[</span><span class="s1">&#39;action&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">rec</span><span class="p">[</span><span class="s1">&#39;priority&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> priority)&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  Rationale: </span><span class="si">{</span><span class="n">rec</span><span class="p">[</span><span class="s1">&#39;rationale&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</code></pre>
</div>

<h2 id="support">Support</h2>

<p>For issues and questions:
- Check the troubleshooting section
- Review API documentation
- Consult permission reference
- Verify environment variables</p>

<h2 id="license">License</h2>

<p>Copyright ¬© 2025 V-Mart Personal AI Agent</p>

    <hr>
    <p style="text-align: center; color: #999; font-size: 0.9em;">
        Generated by V-Mart Personal AI Agent Documentation System<br>
        ¬© 2025 All Rights Reserved
    </p>
</body>
</html>
